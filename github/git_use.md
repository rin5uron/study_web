# 新規GitHubリポジトリ作成～初回pushまでの手順テンプレート

新しいプロジェクトのフォルダからGitHubに初回のコードをプッシュするまでの共通手順を示します。以下の手順を毎回同じように実行することで、どんなプロジェクトでも最短かつ確実にリポジトリを作成し、初回のコミットをGitHubに送信できます。

## 前提条件
- ローカルにはまだGit管理されていないフォルダ（.gitがない状態）がある
- GitHubアカウントにログイン済み
- プッシュにはPersonal Access Token（細かな権限設定が可能なfine-grained PAT）を使用

## 手順

### 1. GitHub上で新しいリポジトリを作成する
- ブラウザでGitHubにログインし、「Repositories」から「New」を選択
- リポジトリ名（プロジェクト名）を入力
- 必要に応じて説明などを追加
- 「Create repository」をクリック
- 空のリポジトリを作成（初期化用のREADMEや.gitignore、ライセンスの追加は選択しない）
- 作成後に表示されるリポジトリのQuick Setup画面から、リモートURL（`https://github.com/<ユーザー名>/<リポジトリ名>.git`）をコピー

#### 補足：GitHub CLIを使用する場合
```bash
gh repo create <リポジトリ名>
```
- 対話的にリポジトリ名や公開/非公開設定を入力
- 「既存のローカルリポジトリをプッシュする」オプションを選択

### 2. ローカルリポジトリの初期化
```bash
git init
```
- カレントディレクトリに新しいGitリポジトリを初期化
- `.git`フォルダが作成され、Git管理が開始される

### 3. デフォルトブランチ名の設定
```bash
git branch -M main
```
- デフォルトブランチの名前を`main`に設定
- Git 2.28.0以降の場合は、初期化時に`git init -b main`で省略可能

### 4. ファイルのステージング
```bash
git add .
```
- プロジェクトのファイルをすべてステージング（インデックスに追加）
- ファイルが存在しない場合は、README.mdなどのファイルを作成してから実行
- 不要なファイルを誤って追加した場合は`git reset <ファイル名>`で解除可能

### 5. 初回コミット
```bash
git commit -m "Initial commit"
```
- ステージにある変更をローカルリポジトリにコミット
- コミットメッセージは変更内容を簡潔に説明するものを使用

### 6. リモートリポジトリの登録
```bash
git remote add origin https://github.com/<ユーザー名>/<リポジトリ名>.git
```
- GitHub上のリポジトリをローカルリポジトリの「リモート」として登録
- リモート名は慣例的に`origin`を使用
- リモートURLの確認は`git remote -v`で可能

#### 補足：PATを含めたURL登録（認証入力を省略）
```bash
git remote add origin https://<PERSONAL-ACCESS-TOKEN>@github.com/<ユーザー名>/<リポジトリ名>.git
```
- 注意：トークンが平文で保存されるため、リポジトリ共有時は使用しない

### 7. リモートへのプッシュ
```bash
git push -u origin main
```
- ローカルの`main`ブランチを`origin`リモートにプッシュ
- `-u`オプションで上流ブランチを設定（次回以降は`git push`のみでOK）

#### 認証時の注意点
- パスワード欄にはGitHubアカウントのパスワードではなく、PATを入力
- 入力時は表示されないが、そのままEnterで確定

## エラー対処

### 認証エラー
- 「Support for password authentication was removed...」エラー
  - PATを正しく入力しているか確認
  - トークンの権限設定を確認（ContentsのRead/Write権限が必要）

### 資格情報の問題
- 認証プロンプトが表示されない場合
  - 古い資格情報のキャッシュをクリア
  - 資格情報マネージャの更新

### リポジトリ設定ミス
- 「repository not found」エラー
  - リモートURLの正確性を確認
  - GitHub上にリポジトリが存在するか確認

## 用語集

### トークン認証（Personal Access Tokenによる認証）
- GitHubが発行する個人用アクセストークン(PAT)を用いた認証方式
- 2021年8月13日以降、パスワード認証は廃止
- PATの種類：
  - Classic（従来型）
  - Fine-grained（細微な権限指定が可能な新型）

### リモートリポジトリ（Remote Repository）
- ネットワーク越しに存在するGitリポジトリ
- コードの保存・共有のための「場所」
- ローカルリポジトリとの同期で複数環境からのアクセスが可能
- 通常は`origin`という名前で登録
